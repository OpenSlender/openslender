[gd_scene load_steps=14 format=3 uid="uid://smxa35wcvt0q"]

[ext_resource type="Script" uid="uid://ceup61jgjcehk" path="res://scripts/monster/Monster.cs" id="1_mw14x"]

[sub_resource type="NavigationMesh" id="NavigationMesh_w4tpl"]
vertices = PackedVector3Array(-5, 1, -2.25, -2.5, 1, -3.75, -3, 1, -4, -5.25, 1, -2.75, -2.75, 1, -6, 1.75, 1, -6, 1.75, 1, -9.5, -9.5, 1, -9.5, -7.25, 1, -2.5, -9.5, 1, 2, -7.25, 1, 1.5, 3.5, 1, -3.75, 4.75, 1, -2.25, 5, 1, -2.75, 4, 1, -4, 7, 1, -2.5, 7, 1, 1.25, 9.5, 1, 1.25, 9.5, 1, -9.5, 4, 1, -9.5, 3, 5.75, -4.75, 3, 5.75, -9, 2.5, 5.75, -5, -2, 5.75, -5, 4.75, 1, 1.5, -5, 1, 1.5, -7, 1, 3.5, -9.5, 1, 9.5, 6.75, 1, 3.5, 9.5, 1, 9.5, 4.75, 1, 3.25, -5.25, 1, 3.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(2, 3, 4), PackedInt32Array(4, 3, 8), PackedInt32Array(4, 8, 7), PackedInt32Array(10, 9, 8), PackedInt32Array(8, 9, 7), PackedInt32Array(14, 13, 11), PackedInt32Array(11, 13, 12), PackedInt32Array(16, 15, 17), PackedInt32Array(17, 15, 18), PackedInt32Array(13, 14, 15), PackedInt32Array(15, 14, 19), PackedInt32Array(15, 19, 18), PackedInt32Array(22, 21, 20), PackedInt32Array(22, 20, 23), PackedInt32Array(12, 24, 11), PackedInt32Array(11, 24, 1), PackedInt32Array(1, 24, 0), PackedInt32Array(0, 24, 25), PackedInt32Array(10, 26, 9), PackedInt32Array(9, 26, 27), PackedInt32Array(16, 17, 28), PackedInt32Array(28, 17, 29), PackedInt32Array(28, 29, 30), PackedInt32Array(30, 29, 31), PackedInt32Array(31, 29, 27), PackedInt32Array(24, 30, 25), PackedInt32Array(25, 30, 31), PackedInt32Array(27, 26, 31)]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_37kl0"]
albedo_color = Color(0.572988, 0.572988, 0.572988, 1)

[sub_resource type="BoxMesh" id="BoxMesh_w4tpl"]
material = SubResource("StandardMaterial3D_37kl0")

[sub_resource type="BoxShape3D" id="BoxShape3D_mw14x"]
size = Vector3(20, 1, 20)

[sub_resource type="BoxShape3D" id="BoxShape3D_8c6uh"]
size = Vector3(5, 5, 1)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_mf4mk"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_c1ma4"]
albedo_color = Color(0.807536, 0.0572507, 0.194261, 1)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_37kl0"]

[sub_resource type="BoxMesh" id="BoxMesh_8c6uh"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_mw14x"]

[sub_resource type="Sky" id="Sky_mw14x"]
sky_material = SubResource("ProceduralSkyMaterial_mw14x")

[sub_resource type="Environment" id="Environment_8c6uh"]
background_mode = 2
sky = SubResource("Sky_mw14x")
ambient_light_source = 3

[node name="MonsterTest" type="Node3D"]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_w4tpl")

[node name="Floor" type="Node3D" parent="NavigationRegion3D"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/Floor"]
transform = Transform3D(20, 0, 0, 0, 1, 0, 0, 0, 20, 0, 0, 0)
mesh = SubResource("BoxMesh_w4tpl")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/Floor"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Floor/StaticBody3D"]
shape = SubResource("BoxShape3D_mw14x")

[node name="Wall" type="Node3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.98586, -4.8862)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/Wall"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 1, 0, 0, 0)
mesh = SubResource("BoxMesh_w4tpl")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/Wall"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Wall/StaticBody3D"]
shape = SubResource("BoxShape3D_8c6uh")

[node name="Wall2" type="Node3D" parent="NavigationRegion3D"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -6.06512, 2.98586, 0.273175)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/Wall2"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 1, 0, 0, 0)
mesh = SubResource("BoxMesh_w4tpl")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/Wall2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Wall2/StaticBody3D"]
shape = SubResource("BoxShape3D_8c6uh")

[node name="Wall3" type="Node3D" parent="NavigationRegion3D"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 5.77761, 2.98586, 0.273175)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/Wall3"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 1, 0, 0, 0)
mesh = SubResource("BoxMesh_w4tpl")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/Wall3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Wall3/StaticBody3D"]
shape = SubResource("BoxShape3D_8c6uh")

[node name="Wall4" type="Node3D" parent="NavigationRegion3D"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 2.88459, 2.98586, -6.86907)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/Wall4"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 1, 0, 0, 0)
mesh = SubResource("BoxMesh_w4tpl")
skeleton = NodePath("../../Wall4")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/Wall4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Wall4/StaticBody3D"]
shape = SubResource("BoxShape3D_8c6uh")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 6.48857, 7.12775)

[node name="Monster" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.66174, 0)
script = ExtResource("1_mw14x")
TargetPath = NodePath("../Target")
DetectionRange = 50.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="Monster"]
mesh = SubResource("CapsuleMesh_mf4mk")
surface_material_override/0 = SubResource("StandardMaterial3D_c1ma4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Monster"]
shape = SubResource("CapsuleShape3D_37kl0")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="Monster"]

[node name="Target" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.21118, 0.878408, 7.80408)
mesh = SubResource("BoxMesh_8c6uh")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_8c6uh")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.996291, -0.0341432, 0.0789857, -0.0789858, -0.727076, 0.681998, 0.034143, -0.685707, -0.727076, 0, 0, 0)
shadow_enabled = true
